import{_ as k,u as w,r as v,c as l,o as B,a as N,b as n,d as t,t as a,n as m,e as F,f as S,F as C,g as T,h as D,i}from"./index-Cz9aqF_s.js";import{u as I}from"./bot-D3weyv_4.js";const U={class:"max-w-4xl mx-auto p-6 bg-gray-50 dark:bg-gray-900 min-h-screen"},$={class:"grid grid-cols-1 gap-6 mb-6"},H={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6"},V={class:"grid grid-cols-3 gap-4"},j={class:"text-xl font-semibold dark:text-white"},M={class:"text-xl font-semibold dark:text-white"},z={class:"grid grid-cols-1 gap-6"},A={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden"},E={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center"},L={class:"p-6"},P={class:"divide-y divide-gray-200 dark:divide-gray-700"},R=["onClick"],q={class:"space-y-2"},G={class:"font-bold text-md dark:text-white"},J={class:"grid grid-cols-3 gap-4 text-sm text-gray-600 dark:text-gray-300"},K={class:"flex items-center text-xl font-semibold"},O={class:"flex items-center text-xl font-semibold"},Q={class:"flex items-center text-xl font-semibold"},W={key:0,class:"py-8 text-center text-gray-500 dark:text-gray-400"},X={__name:"Home",setup(Y){const b=I(),h=D();w();const u=v(!1),r=v([]);let c=null;const p=l(()=>r.value.reduce((s,e)=>s+Number(e[7]||0),0).toFixed(2)),f=l(()=>r.value.reduce((s,e)=>s+Number(e[6]||0),0).toFixed(2)),x=l(()=>r.value.reduce((s,e)=>s+Number(e[8]||0),0).toFixed(2));l(()=>r.value.reduce((s,e)=>s+Number(e[5]||0),0).toFixed(2)),l(()=>{const s=r.value.reduce((o,d)=>o+Number(d[10]||0),0),e=r.value.reduce((o,d)=>o+Number(d[6]||0),0);return e?Number((s/e*100).toFixed(2)):0});const g=async()=>{u.value=!0;try{const s=await b.fetchBots();s&&(r.value=s)}catch(s){console.error("Failed to fetch bots:",s)}finally{u.value=!1}},_=s=>{h.push(`/botstatuspage?id=${s}`)},y=((s,e)=>{let o;return(...d)=>{clearTimeout(o),o=setTimeout(()=>{s.apply(this,d)},e)}})(g,300);return B(()=>{g(),c=setInterval(y,1e3)}),N(()=>{c&&clearInterval(c)}),(s,e)=>(i(),n("div",U,[t("div",$,[t("div",H,[e[4]||(e[4]=t("h2",{class:"text-xl font-bold mb-4 dark:text-white"},"Баланс",-1)),t("div",V,[t("div",null,[e[1]||(e[1]=t("h3",{class:"text-sm text-gray-500 dark:text-gray-400"},"Старт",-1)),t("p",j,a(f.value)+" USDT",1)]),t("div",null,[e[2]||(e[2]=t("h3",{class:"text-sm text-gray-500 dark:text-gray-400"},"Текущий",-1)),t("p",M,a(p.value)+" USDT",1)]),t("div",null,[e[3]||(e[3]=t("h3",{class:"text-sm text-gray-500 dark:text-gray-400"},"Сальдо",-1)),t("p",{class:m(["text-xl font-semibold",x.value>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},a(x.value)+" USDT ",3)])])])]),t("div",z,[t("div",A,[t("div",E,[e[6]||(e[6]=t("h2",{class:"text-xl font-bold dark:text-white"},"Мои боты",-1)),t("button",{class:"btn btn-primary bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors flex items-center",onClick:e[0]||(e[0]=o=>s.$router.push("/newbot"))},e[5]||(e[5]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),F(" Новый бот ")]))]),t("div",L,[t("ul",P,[(i(!0),n(C,null,T(r.value,o=>(i(),n("li",{key:o[8],onClick:d=>_(o[1]),class:"py-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer"},[t("div",q,[t("div",G,a(o[1]),1),t("div",J,[t("div",K,[t("span",null,a(o[6]),1)]),t("div",O,[t("span",null,a(o[7]),1)]),t("div",Q,[t("span",{class:m(o[8]>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")},a(o[8]),3)])])])],8,R))),128)),r.value.length?S("",!0):(i(),n("li",W," Ни одного бота не создано "))])])])])]))}},st=k(X,[["__scopeId","data-v-f3dbef43"]]);export{st as default};
